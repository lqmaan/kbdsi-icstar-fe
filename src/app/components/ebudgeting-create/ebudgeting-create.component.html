<main>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <h2 class="flex items-center justify-center font-bold py-2 mb-12 text-3xl">
      Create New E-Budgeting
    </h2>
    <hr class="h-3px my-8 bg-gray-200 border-0 dark:bg-gray-700" />
    <div class="mb-6">
      <label class="text-gray-700 font-semibold">Year</label>
      <label class="block w-full">
        <select
          formControlName="year"
          style="cursor: pointer"
          class="w-full py-2.5 bg-gray-100 text-gray-500 px-1 outline-none mt-1 placeholder: italic placeholder:text-slate-400 border border-slate-300 rounded-md pl-2 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-smform-select block"
        >
          <option disabled selected value class="text-gray-500">
            -- Choose year --
          </option>
          <option
            *ngFor="let year of years"
            [ngValue]="year"
            class="text-gray-500"
          >
            {{ year }}
          </option>
        </select>
      </label>
      <div
        class="text-red-500 font-xs italic"
        *ngIf="form.get('year')?.touched && form.get('year')?.invalid"
      >
        Year is required.
      </div>
    </div>
    <div class="mb-6">
      <label class="text-gray-700 font-semibold">Name</label>
      <input
        formControlName="name"
        class="w-full py-2.5 bg-gray-100 text-gray-500 px-1 outline-none mt-1 placeholder: italic placeholder:text-slate-400 block border border-slate-300 rounded-md pl-2 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
        type="name"
        required
      />
      <div
        class="text-red-500 font-xs italic"
        *ngIf="form.get('name')?.touched && form.get('name')?.invalid"
      >
        Name is required.
      </div>
    </div>

    <div class="mb-6">
      <label class="text-gray-700 font-semibold"> Category</label>
      <label class="block w-full">
        <select
          formControlName="category"
          style="cursor: pointer"
          class="w-full py-2.5 bg-gray-100 text-gray-500 px-1 outline-none mt-1 placeholder: italic placeholder:text-slate-400 border border-slate-300 rounded-md pl-2 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm4 form-select block"
        >
          <option class="text-gray-500" disabled selected value>
            -- Choose Category --
          </option>
          <option *ngFor="let item of category" [ngValue]="item.categoryName">
            {{ item.categoryName }}
          </option>
        </select>
      </label>
      <div
        class="text-red-500 font-xs italic"
        *ngIf="form.get('category')?.touched && form.get('category')?.invalid"
      >
        Category is required.
      </div>
    </div>
    <div class="mb-6">
      <label class="text-gray-700 mt-2 font-semibold">Type</label>
      <div class="mt-1 mb-3 pb-1 ml-2 max-w-full relative text-gray-600">
        <div class="-left-0">
          <input
            type="radio"
            id="type_1"
            value="income"
            name="type"
            formControlName="type"
            (change)="onItemChange($event)"
          />
          <label for="type_1"> Income</label>
        </div>
        <div class="absolute top-0 right-[270px]">
          <input
            type="radio"
            id="type_2"
            value="outcome"
            name="type"
            formControlName="type"
            (change)="onItemChange($event)"
          />
          <label for="type_2"> Outcome</label>
        </div>
      </div>
      <div
        class="text-red-500 font-xs italic"
        *ngIf="form.get('type')?.touched && form.get('type')?.invalid"
      >
        Type is required.
      </div>
    </div>

    <div class="mb-6">
      <label class="text-gray-700 mt-5 font-semibold">Amount</label>
      <input
        formControlName="amount"
        class="w-full py-2.5 bg-gray-100 text-gray-500 px-1 outline-none mt-1 placeholder: italic placeholder:text-slate-400 block border border-slate-300 rounded-md pl-2 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
        placeholder="Rp."
      />
      <div
        class="text-red-500 font-xs italic"
        *ngIf="form.get('amount')?.touched && form.get('amount')?.invalid"
      >
        Amount is required.
      </div>
    </div>
    <div class="mb-6">
      <label class="text-gray-700 font-semibold">Description</label>
      <input
        formControlName="description"
        class="w-full py-2.5 bg-gray-100 text-gray-500 px-1 outline-none mt-1 placeholder: italic placeholder:text-slate-400 block border border-slate-300 rounded-md pl-2 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm"
        type="description"
        required
      />
      <div
        class="text-red-500 font-xs italic"
        *ngIf="
          form.get('description')?.touched && form.get('description')?.invalid
        "
      >
        Description is required.
      </div>
    </div>
    <div class="flex justify-end mt-12">
      <button
        routerLink="/ebudgeting"
        class="bg-gray-400 hover:bg-gray-500 text-gray-800 font-bold mx-1 py-2.5 px-4 rounded-md shadow-md"
      >
        Cancel
      </button>
      <button
        [disabled]="!form.valid"
        type="submit"
        class="bg-slate-800 hover:bg-blue-700 text-white font-bold py-2.5 px-4 mx-1 rounded-md shadow-md"
      >
        Save
      </button>
    </div>
  </form>
</main>
